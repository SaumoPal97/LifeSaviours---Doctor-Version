package com.jjoe64.graphview_demos.examples;

import android.graphics.Color;

import com.jjoe64.graphview.GraphView;
import com.jjoe64.graphview.LegendRenderer;
import com.jjoe64.graphview.series.BarGraphSeries;
import com.jjoe64.graphview.series.DataPoint;
import com.jjoe64.graphview.series.LineGraphSeries;
import com.jjoe64.graphview_demos.FullscreenActivity;
import com.jjoe64.graphview_demos.R;
import java.net.*;
import java.io.*;
import java.nio.Buffer;

/**
 * Created by jonas on 10.09.16.
 */
public class ScalingX extends BaseExample {
    @Override
    public void onCreate(FullscreenActivity activity) {
        GraphView graph = (GraphView) activity.findViewById(R.id.graph);
        initGraph(graph);
    }

    @Override
    public void initGraph(GraphView graph) {
        // first series is a line
        DataPoint[] points = new DataPoint[1000];

        double[] ppg_values = {0.0, 0.00098884, 0.0034345999999999995, 0.0068075, 0.010672, 0.016399, 0.024125, 0.033214999999999995, 0.043385, 0.055965999999999995, 0.070661, 0.086873, 0.10472000000000001, 0.12513, 0.14752, 0.17122, 0.19672, 0.22432, 0.25337, 0.28329, 0.31473, 0.34747, 0.38089, 0.41461000000000003, 0.44922, 0.4842, 0.5188699999999999, 0.5531, 0.58734, 0.62092, 0.65315, 0.68435, 0.7146399999999999, 0.74348, 0.7703899999999999, 0.79599, 0.8201799999999999, 0.8425799999999999, 0.86306, 0.88228, 0.89999, 0.91581, 0.9299, 0.94286, 0.95436, 0.96406, 0.97254, 0.9800700000000001, 0.9863700000000001, 0.9912299999999999, 0.9955299999999999, 0.9991399999999999, 1.0016, 1.0028, 1.0037, 1.0044, 1.0047, 1.0043, 1.0031, 1.0015, 0.99974, 0.9976299999999999, 0.9950399999999999, 0.99216, 0.98918, 0.9859100000000001, 0.98236, 0.97862, 0.9747100000000001, 0.9705299999999999, 0.96615, 0.96168, 0.9571200000000001, 0.9524299999999999, 0.9476100000000001, 0.94268, 0.9376, 0.9323899999999999, 0.92709, 0.9217200000000001, 0.91625, 0.9107, 0.9051299999999999, 0.8995700000000001, 0.894, 0.88841, 0.88279, 0.8771399999999999, 0.87146, 0.86577, 0.86006, 0.85434, 0.8486, 0.84286, 0.8371299999999999, 0.83142, 0.8257, 0.81995, 0.81416, 0.80835, 0.8024899999999999, 0.7965399999999999, 0.7905300000000001, 0.78445, 0.77825, 0.77186, 0.7652399999999999, 0.75845, 0.75156, 0.74462, 0.73763, 0.73052, 0.72325, 0.71578, 0.70814, 0.70033, 0.6923600000000001, 0.6842199999999999, 0.6759, 0.66743, 0.65883, 0.65008, 0.6411899999999999, 0.6321899999999999, 0.62311, 0.61393, 0.60465, 0.59531, 0.58587, 0.57634, 0.5667800000000001, 0.55729, 0.54785, 0.53843, 0.5291100000000001, 0.5199600000000001, 0.5109199999999999, 0.50202, 0.4933, 0.4848, 0.47645, 0.4683, 0.46045, 0.45288999999999996, 0.44556, 0.43851, 0.43178999999999995, 0.42533999999999994, 0.41913999999999996, 0.41328000000000004, 0.40779, 0.4025, 0.39753, 0.39307, 0.38919000000000004, 0.38561, 0.38244, 0.3798, 0.37756999999999996, 0.37556999999999996, 0.37396999999999997, 0.37294, 0.37219, 0.37158, 0.37125, 0.37131, 0.37178, 0.37254, 0.37342, 0.37442, 0.37575, 0.37731, 0.37899, 0.38083, 0.38291, 0.38509, 0.38726, 0.38941, 0.3916, 0.39384, 0.39616, 0.39853, 0.40098, 0.40353, 0.40626999999999996, 0.40926999999999997, 0.41223000000000004, 0.41484, 0.4172, 0.41944, 0.42128999999999994, 0.42253999999999997, 0.42353, 0.42435, 0.42486999999999997, 0.42498, 0.42491, 0.42472, 0.42446000000000006, 0.42404, 0.4233, 0.42235, 0.42131, 0.42012, 0.41872, 0.41715, 0.41547, 0.41355, 0.41144, 0.40926, 0.40709, 0.40489, 0.40263000000000004, 0.40029000000000003, 0.39785, 0.39532, 0.39271, 0.39003000000000004, 0.38726, 0.38441, 0.38151, 0.37858, 0.37562, 0.37261, 0.36956, 0.36646999999999996, 0.36333000000000004, 0.36015, 0.35695, 0.35372, 0.35046, 0.34718000000000004, 0.34391, 0.34064, 0.33737, 0.33411, 0.33089, 0.32769000000000004, 0.32452, 0.32134, 0.31815, 0.31496, 0.31176, 0.30854000000000004, 0.30529, 0.30201, 0.29874, 0.29551, 0.29233000000000003, 0.28918, 0.28604, 0.2829, 0.27978000000000003, 0.27666999999999997, 0.27355999999999997, 0.27045, 0.26733, 0.26421, 0.2611, 0.25798000000000004, 0.25487, 0.25175, 0.24863000000000002, 0.24550999999999998, 0.2424, 0.23928000000000002, 0.23617, 0.23305, 0.22994, 0.22685999999999998, 0.22384, 0.22086, 0.21791, 0.21495999999999998, 0.212, 0.20906, 0.20613, 0.20324, 0.20039, 0.19758, 0.19477, 0.19195, 0.18912, 0.18629, 0.18347, 0.18064000000000002, 0.1778, 0.17497000000000001, 0.17217000000000002, 0.16939, 0.16663, 0.16389, 0.16118, 0.15847, 0.15579, 0.15312, 0.15049, 0.14787, 0.14529, 0.14274, 0.14025, 0.13779, 0.13538, 0.13301, 0.13068, 0.12839, 0.12614, 0.12394000000000001, 0.12177, 0.11965, 0.11757000000000001, 0.11550999999999999, 0.11345, 0.11145999999999999, 0.10962999999999999, 0.10801, 0.10654000000000001, 0.10513, 0.10368, 0.10217000000000001, 0.10065, 0.099134, 0.097618, 0.096089, 0.094565, 0.093075, 0.091641, 0.090253, 0.088894, 0.087549, 0.08619299999999999, 0.084833, 0.083522, 0.082311, 0.081209, 0.080177, 0.079174, 0.078168, 0.077181, 0.076206, 0.075223, 0.07420800000000001, 0.073159, 0.072118, 0.071128, 0.070216, 0.069351, 0.068505, 0.067646, 0.066803, 0.065963, 0.06508, 0.064112, 0.063068, 0.061951, 0.060761, 0.059494000000000005, 0.058137, 0.056685, 0.055135, 0.053449, 0.051623, 0.049711, 0.047758, 0.045682, 0.043537, 0.041457, 0.039550999999999996, 0.037748000000000004, 0.036032, 0.034408999999999995, 0.032885000000000005, 0.031468, 0.030164999999999997, 0.028981, 0.030902, 0.031886000000000005, 0.034328, 0.037697, 0.041557, 0.04728, 0.055001, 0.064087, 0.074253, 0.08682999999999999, 0.10152, 0.11773, 0.13557, 0.15598, 0.17836, 0.20206, 0.22755999999999998, 0.25515, 0.28419, 0.31411, 0.34554, 0.37828, 0.4117, 0.44541000000000003, 0.48002, 0.51499, 0.54965, 0.5838899999999999, 0.61812, 0.65169, 0.68392, 0.71511, 0.7454, 0.77423, 0.80114, 0.82673, 0.8509200000000001, 0.8733200000000001, 0.89379, 0.91301, 0.9307200000000001, 0.94652, 0.9606100000000001, 0.97357, 0.98506, 0.9947600000000001, 1.0032, 1.0108, 1.0170000000000001, 1.0219, 1.0262, 1.0298, 1.0322, 1.0334, 1.0344, 1.035, 1.0353, 1.035, 1.0338, 1.0321, 1.0304, 1.0282, 1.0256, 1.0228, 1.0198, 1.0165, 1.0129, 1.0092, 1.0053, 1.0011, 0.99671, 0.99223, 0.98767, 0.9829700000000001, 0.97815, 0.97321, 0.9681299999999999, 0.96291, 0.9576100000000001, 0.95224, 0.94675, 0.9412, 0.9356200000000001, 0.93006, 0.92448, 0.91889, 0.9132600000000001, 0.90761, 0.90192, 0.8962200000000001, 0.8905, 0.8847799999999999, 0.87903, 0.87329, 0.86755, 0.8618399999999999, 0.85611, 0.85035, 0.84455, 0.8387399999999999, 0.8328700000000001, 0.8269200000000001, 0.8209, 0.81482, 0.80861, 0.8022100000000001, 0.7955899999999999, 0.78879, 0.7819, 0.77495, 0.76795, 0.76083, 0.75355, 0.74608, 0.73843, 0.73061, 0.72264, 0.71449, 0.70616, 0.6976899999999999, 0.68909, 0.68033, 0.67143, 0.66242, 0.6533399999999999, 0.64415, 0.6348699999999999, 0.62551, 0.61607, 0.60653, 0.59697, 0.5874699999999999, 0.57802, 0.5685899999999999, 0.5592699999999999, 0.5501199999999999, 0.5410699999999999, 0.53215, 0.5234300000000001, 0.5149199999999999, 0.50656, 0.49841, 0.49056000000000005, 0.48299, 0.47565, 0.46858999999999995, 0.46187, 0.4554, 0.4492, 0.44333, 0.43783, 0.43254, 0.42756000000000005, 0.4231, 0.4192, 0.41562, 0.41244, 0.4098, 0.40756, 0.40555, 0.40394, 0.40291, 0.40214, 0.40153, 0.40119, 0.40124, 0.40171, 0.40245, 0.40333, 0.40431999999999996, 0.40564, 0.4072, 0.40886999999999996, 0.4107, 0.41276999999999997, 0.41495, 0.4171, 0.41925, 0.42143, 0.42367, 0.42596999999999996, 0.42833999999999994, 0.43078, 0.43332, 0.43605, 0.43905, 0.442, 0.4446, 0.44695, 0.44918, 0.45103000000000004, 0.45226000000000005, 0.45325, 0.45407, 0.45457, 0.45468000000000003, 0.45458999999999994, 0.4544, 0.45411999999999997, 0.4537, 0.45295, 0.45198999999999995, 0.45093999999999995, 0.44975, 0.44833999999999996, 0.44676000000000005, 0.44506999999999997, 0.44314, 0.44103000000000003, 0.43883999999999995, 0.43666000000000005, 0.43445, 0.43218, 0.42983000000000005, 0.42738999999999994, 0.42485, 0.42223, 0.41953999999999997, 0.41676, 0.4139, 0.41098999999999997, 0.40805, 0.40508, 0.40206, 0.39901, 0.39591, 0.39276, 0.38956999999999997, 0.38636, 0.38311999999999996, 0.37985, 0.37656999999999996, 0.37329, 0.37001, 0.36673, 0.36346, 0.36022, 0.35702, 0.35384, 0.35065, 0.34745, 0.34425, 0.34104, 0.33782, 0.33455999999999997, 0.33127, 0.32799, 0.32475, 0.32156, 0.31839, 0.31525, 0.3121, 0.30896999999999997, 0.30585, 0.30273, 0.29961, 0.29648, 0.29336, 0.29023000000000004, 0.2871, 0.28398, 0.28085, 0.27773000000000003, 0.2746, 0.27147, 0.26835, 0.26523, 0.2621, 0.25898000000000004, 0.25589, 0.25286, 0.24986999999999998, 0.24691, 0.24395, 0.24098000000000003, 0.23801999999999998, 0.23509000000000002, 0.23219, 0.22933, 0.22651, 0.22369, 0.22085, 0.21802, 0.21518, 0.21235, 0.20951, 0.20665999999999998, 0.20382, 0.201, 0.19822, 0.19545, 0.1927, 0.18997, 0.18725999999999998, 0.18456, 0.18189, 0.17924, 0.17662, 0.17402, 0.17147, 0.16896, 0.16649, 0.16407, 0.16169, 0.15935, 0.15705, 0.15479, 0.15258, 0.1504, 0.14827, 0.14617, 0.14411, 0.14204, 0.14004, 0.13819, 0.13656, 0.13509000000000002, 0.13367, 0.1322, 0.13069, 0.12916, 0.12762, 0.1261, 0.12455999999999999, 0.12302, 0.12152, 0.12007999999999999, 0.11868, 0.11731, 0.11595, 0.11459000000000001, 0.11320999999999999, 0.11189, 0.11067, 0.10955999999999999, 0.10851, 0.1075, 0.10647999999999999, 0.10547999999999999, 0.1045, 0.1035, 0.10248, 0.10142000000000001, 0.10037, 0.099365, 0.098441, 0.097565, 0.096707, 0.095837, 0.094983, 0.09413099999999999, 0.093237, 0.092258, 0.09120199999999999, 0.090074, 0.088872, 0.08759299999999999, 0.086225, 0.084762, 0.0832, 0.081502, 0.079665, 0.07774, 0.075777, 0.073689, 0.071532, 0.06944, 0.067522, 0.065708, 0.063979, 0.062345000000000005, 0.06081, 0.059380999999999996, 0.058065, 0.056869, 0.058779, 0.059751, 0.06218099999999999, 0.065538, 0.069386, 0.075097, 0.082807, 0.09187999999999999, 0.10203, 0.1146, 0.12928, 0.14547000000000002, 0.1633, 0.1837, 0.20606999999999998, 0.22976, 0.25524, 0.28281999999999996, 0.31185, 0.34176, 0.37318, 0.4059, 0.43931000000000003, 0.47301000000000004, 0.5076, 0.54257, 0.57721, 0.61143, 0.64566, 0.6792199999999999, 0.71143, 0.74261, 0.77289, 0.80171, 0.8286100000000001, 0.8541799999999999, 0.87835, 0.90074, 0.9212, 0.9404100000000001, 0.9581, 0.9738899999999999, 0.9879700000000001, 1.0009, 1.0124, 1.0221, 1.0305, 1.0381, 1.0443, 1.0492, 1.0535, 1.057, 1.0595, 1.0607, 1.0616, 1.0622, 1.0625, 1.0621, 1.0609, 1.0593, 1.0575, 1.0554, 1.0527, 1.0499, 1.0468, 1.0436, 1.04, 1.0362, 1.0323, 1.0281, 1.0237, 1.0192, 1.0146, 1.0099, 1.0051, 1.0001, 0.99505, 0.98982, 0.9845, 0.97911, 0.97362, 0.96805, 0.96246, 0.95688, 0.95129, 0.94568, 0.94004, 0.93437, 0.9286700000000001, 0.92296, 0.9172299999999999, 0.9114899999999999, 0.9057299999999999, 0.8999799999999999, 0.89423, 0.8885, 0.88276, 0.87698, 0.8711700000000001, 0.86534, 0.85946, 0.85349, 0.84746, 0.8413700000000001, 0.83514, 0.82873, 0.82209, 0.81529, 0.80837, 0.80142, 0.7944, 0.78727, 0.77998, 0.77249, 0.76483, 0.7569899999999999, 0.7490100000000001, 0.7408399999999999, 0.7325, 0.72401, 0.7154, 0.70662, 0.69771, 0.6886899999999999, 0.6795899999999999, 0.6703899999999999, 0.66109, 0.65172, 0.64227, 0.63271, 0.6231300000000001, 0.61363, 0.60416, 0.59472, 0.58538, 0.57621, 0.56715, 0.5582199999999999, 0.54948, 0.54096, 0.53259, 0.52442, 0.51655, 0.50897, 0.50162, 0.49454, 0.4878, 0.48131999999999997, 0.47511000000000003, 0.46921999999999997, 0.46371, 0.4584, 0.45341000000000004, 0.44893, 0.44501999999999997, 0.44142, 0.43823, 0.43556999999999996, 0.43332, 0.43128999999999995, 0.42967, 0.42862, 0.42783999999999994, 0.42721000000000003, 0.42686, 0.4269, 0.42735, 0.42808, 0.42894, 0.42991, 0.43122, 0.43276000000000003, 0.43441, 0.43623, 0.43828999999999996, 0.44045, 0.44259, 0.44472, 0.44688, 0.44911, 0.4514, 0.45375, 0.45618000000000003, 0.4587, 0.46142, 0.4644, 0.46733, 0.46992, 0.47226, 0.47447, 0.4763, 0.47752, 0.47848999999999997, 0.47928999999999994, 0.47978000000000004, 0.47986999999999996, 0.47977, 0.47956000000000004, 0.47927, 0.47884, 0.47807, 0.47708999999999996, 0.47603, 0.47481999999999996, 0.47339, 0.4718, 0.47008999999999995, 0.46815, 0.46602, 0.46381000000000006, 0.46162, 0.4594, 0.45711, 0.45475, 0.45228, 0.44973, 0.44709, 0.44438999999999995, 0.4416, 0.43872, 0.43578999999999996, 0.43283999999999995, 0.42985, 0.42682, 0.42373999999999995, 0.42063, 0.41746000000000005, 0.41426, 0.41103, 0.40778000000000003, 0.40449, 0.40119, 0.3979, 0.3946, 0.3913, 0.38802, 0.38477, 0.38155, 0.37835, 0.37515, 0.37193000000000004, 0.36872, 0.36549, 0.36225, 0.35896999999999996, 0.35567, 0.35236999999999996, 0.34911, 0.3459, 0.34271999999999997};

        for (int i = 0; i < points.length; i++) {
            points[i] = new DataPoint(i,ppg_values[i]);
        }

        LineGraphSeries<DataPoint> series = new LineGraphSeries<>(points);

        // set manual X bounds
        graph.getViewport().setYAxisBoundsManual(true);
        graph.getViewport().setMinY(0.1);
        graph.getViewport().setMaxY(1);

        graph.getViewport().setXAxisBoundsManual(true);
        graph.getViewport().setMinX(1);
        graph.getViewport().setMaxX(600);

        // enable scaling
        graph.getViewport().setScalable(true);
        graph.getViewport().setScalableY(true);

        series.setTitle("PPG Data");
        graph.getGridLabelRenderer().setVerticalAxisTitle("PPG Value");
        graph.getGridLabelRenderer().setHorizontalAxisTitle("Time");

        graph.addSeries(series);

        graph.getLegendRenderer().setVisible(true);
        graph.getLegendRenderer().setAlign(LegendRenderer.LegendAlign.TOP);
    }
}
