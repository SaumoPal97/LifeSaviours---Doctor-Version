package com.jjoe64.graphview_demos.examples;

import android.graphics.Color;

import com.jjoe64.graphview.GraphView;
import com.jjoe64.graphview.LegendRenderer;
import com.jjoe64.graphview.series.BarGraphSeries;
import com.jjoe64.graphview.series.DataPoint;
import com.jjoe64.graphview.series.LineGraphSeries;
import com.jjoe64.graphview_demos.FullscreenActivity;
import com.jjoe64.graphview_demos.R;
import java.net.*;
import java.io.*;
import java.nio.Buffer;

/**
 * Created by jonas on 10.09.16.
 */
public class ScalingXY extends BaseExample {
    @Override
    public void onCreate(FullscreenActivity activity) {
        GraphView graph = (GraphView) activity.findViewById(R.id.graph);
        initGraph(graph);
    }

    double[] ecg_values = {62.893, 62.977, 63.06, 63.144, 63.17, 62.205, 60.653, 59.476000000000006, 59.481, 60.211000000000006, 61.11, 61.696999999999996, 61.566, 60.913000000000004, 60.216, 59.958, 60.833, 62.506, 64.015, 64.408, 63.401, 61.845, 60.703, 61.008, 63.08, 65.6, 67.125, 66.477, 64.316, 62.083999999999996, 61.222, 62.567, 65.053, 67.235, 67.789, 67.307, 66.57, 66.059, 66.07600000000001, 66.16, 66.243, 66.327, 65.848, 64.415, 62.973, 62.472, 62.773999999999994, 63.383, 64.24, 65.625, 70.043, 75.641, 79.475, 79.257, 76.571, 73.441, 71.793, 72.471, 74.09, 75.68, 76.253, 74.219, 70.512, 67.137, 65.773, 65.05199999999999, 64.544, 64.33, 65.218, 68.693, 73.217, 77.058, 79.65100000000001, 81.94200000000001, 84.126, 86.387, 88.6, 90.805, 93.19200000000001, 96.14, 100.46, 104.77, 107.34, 107.47, 107.1, 106.48, 105.75, 104.69, 103.14, 101.28, 99.223, 96.259, 92.912, 90.285, 89.175, 88.46700000000001, 87.98, 87.79299999999999, 88.539, 90.816, 93.25200000000001, 94.405, 94.10600000000001, 93.398, 92.762, 92.792, 95.3, 99.24, 102.61, 103.95, 104.81, 105.46, 105.8, 105.89, 105.97, 106.06, 106.13, 102.94, 96.646, 91.079, 90.227, 98.26799999999999, 114.58, 137.49, 178.23, 278.62, 412.29, 545.18, 679.72, 836.77, 964.66, 1010.9, 1007.7, 999.39, 986.3, 955.73, 792.3, 552.11, 339.85, 222.53, 122.72, 46.57899999999999, 12.311, 14.196, 20.92, 29.78, 38.554, 50.012, 63.055, 72.944, 75.8, 76.477, 76.938, 77.517, 78.669, 80.642, 82.76700000000001, 84.322, 85.234, 86.03200000000001, 86.59899999999999, 86.80799999999999, 86.411, 85.682, 85.102, 85.37899999999999, 87.913, 91.274, 93.539, 93.775, 93.85799999999999, 93.941, 94.024, 95.48100000000001, 98.685, 101.72, 102.7, 101.78, 100.23, 99.01799999999999, 99.303, 102.26, 106.24, 109.26, 110.24, 110.78, 111.27, 112.04, 114.29, 117.93, 121.36, 123.08, 123.77, 124.26, 124.84, 125.83, 127.47, 129.46, 131.44, 133.18, 134.87, 136.61, 138.51, 140.68, 143.04, 145.46, 147.81, 149.97, 152.14, 154.59, 157.63, 161.5, 165.8, 170.07, 174.02, 177.87, 181.85, 186.15, 190.7, 195.55, 200.95, 207.27, 215.27, 224.3, 233.33, 241.51, 249.16, 256.86, 265.14, 274.48, 284.7, 295.27, 305.64, 316.11, 326.64, 336.7, 345.81, 354.25, 362.16, 369.57, 376.57, 383.3, 389.53, 394.99, 399.9, 404.53, 408.33, 410.76, 412.49, 413.9, 414.78, 414.59, 410.85, 404.39, 396.75, 388.53, 377.89, 365.31, 351.45, 335.45, 316.71, 297.0, 278.01, 258.95, 239.84, 221.77, 205.7, 191.14, 177.51, 164.38, 150.9, 136.81, 124.15, 115.05, 109.58, 105.53, 101.78, 97.17399999999999, 90.405, 83.285, 78.485, 77.831, 77.913, 77.994, 78.07600000000001, 77.259, 74.415, 71.36, 70.016, 71.446, 74.42399999999999, 77.411, 78.959, 79.631, 80.132, 80.726, 81.836, 83.99799999999999, 86.292, 87.637, 87.762, 87.84299999999999, 87.92399999999999, 88.012, 89.725, 92.99700000000001, 95.90299999999999, 96.715, 96.796, 96.87700000000001, 96.958, 97.31, 98.73299999999999, 100.43, 101.45, 101.56, 101.64, 101.72, 101.81, 102.75, 104.44, 105.91, 106.31, 106.39, 106.48, 106.56, 106.64, 106.72, 106.8, 106.88, 106.96, 107.04, 107.12, 107.19, 106.62, 105.4, 104.01, 102.84, 101.47, 100.18, 99.445, 99.459, 99.54, 99.62, 99.7, 100.42, 102.04, 103.62, 104.17, 102.7, 99.941, 97.182, 95.477, 94.029, 92.844, 92.24, 92.663, 94.16799999999999, 95.838, 96.709, 95.76, 93.49799999999999, 91.367, 90.803, 92.391, 94.91799999999999, 96.939, 97.295, 96.87200000000001, 95.821, 94.022, 91.355, 87.7, 82.936, 76.943, 93.795, 93.874, 93.954, 94.03399999999999, 94.055, 93.086, 91.53, 90.348, 90.34899999999999, 91.075, 91.97, 92.552, 92.417, 91.759, 91.059, 90.796, 91.666, 93.335, 94.84, 95.228, 94.21600000000001, 92.656, 91.51, 91.809, 93.87700000000001, 96.39299999999999, 97.913, 97.26, 95.095, 92.85700000000001, 91.991, 93.331, 95.81200000000001, 97.99, 98.538, 98.052, 97.31, 96.794, 96.806, 96.885, 96.964, 97.042, 96.55799999999999, 95.12, 93.67299999999999, 93.167, 93.464, 94.068, 94.92, 96.3, 100.71, 106.31, 110.13, 109.91, 107.22, 104.08, 102.43, 103.1, 104.72, 106.3, 106.87, 104.83, 101.12, 97.73700000000001, 96.368, 95.641, 95.12799999999999, 94.90899999999999, 95.791, 99.26100000000001, 103.78, 107.61, 110.2, 112.49, 114.67, 116.92, 119.13, 121.33, 123.71, 126.65, 130.97, 135.27, 137.84, 137.95, 137.58, 136.96, 136.22, 135.16, 133.6, 131.73, 129.67, 126.7, 123.34, 120.71, 119.6, 118.88, 118.39, 118.2, 118.94, 121.21, 123.64, 124.78, 124.48, 123.76, 123.12, 123.14, 125.65, 129.58, 132.94, 134.27, 135.13, 135.77, 136.1, 136.19, 136.27, 136.34, 136.41, 133.22, 126.91, 121.34, 120.48, 128.52, 144.82, 167.73, 208.46, 308.84, 442.5, 575.38, 709.92, 866.96, 994.84, 1041.1, 1037.9, 1029.6, 1016.5, 985.88, 822.45, 582.25, 369.98, 252.65, 152.84, 76.689, 42.413999999999994, 44.291000000000004, 51.008, 59.86, 68.628, 80.079, 93.11399999999999, 103.0, 105.84, 106.51, 106.97, 107.54, 108.68, 110.65, 112.77, 114.31, 115.22, 116.01, 116.57, 116.77, 116.37, 115.63, 115.04, 115.31, 117.84, 121.19, 123.45, 123.68, 123.75, 123.83, 123.9, 125.35, 128.55, 131.57, 132.55, 131.62, 130.06, 128.84, 129.12, 132.07, 136.04, 139.05, 140.03, 140.55, 141.04, 141.8, 144.04, 147.67, 151.1, 152.8, 153.49, 153.97, 154.55, 155.52, 157.15, 159.13, 161.1, 162.84, 164.52, 166.26, 168.15, 170.3, 172.66, 175.08, 177.41, 179.56, 181.73, 184.17, 187.2, 191.06, 195.36, 199.62, 203.55, 207.4, 211.36, 215.65, 220.2, 225.04, 230.44, 236.74, 244.73, 253.76, 262.78, 270.95, 278.59, 286.28, 294.55, 303.88, 314.1, 324.65, 335.02, 345.47, 356.0, 366.05, 375.15, 383.58, 391.48, 398.88, 405.87, 412.59, 418.82, 424.27, 429.17, 433.79, 437.58, 440.0, 441.71, 443.12, 443.99, 443.79, 440.04, 433.57, 425.92, 417.69, 407.04, 394.45, 380.58, 364.57, 345.83, 326.1, 307.1, 288.03, 268.92, 250.84, 234.76, 220.18, 206.55, 193.41, 179.92, 165.82, 153.15, 144.04, 138.56, 134.49, 130.74, 126.12, 119.34, 112.21, 107.4, 106.74, 106.81, 106.88, 106.95, 106.13, 103.27, 100.21, 98.853, 100.27, 103.24, 106.22, 107.75, 108.42, 108.91, 109.49, 110.59, 112.74, 115.03, 116.36, 116.48, 116.55, 116.62, 116.69, 118.4, 121.66, 124.55, 125.36, 125.43, 125.5, 125.57, 125.91, 127.32, 129.01, 130.02, 130.11, 130.18, 130.25, 130.33, 131.27, 132.94, 134.4, 134.79, 134.86, 134.93, 135.0, 135.07, 135.14, 135.21, 135.28, 135.35, 135.42, 135.49, 135.55, 134.97, 133.74, 132.34, 131.15, 129.78, 128.47, 127.73, 127.73, 127.8, 127.87, 127.94, 128.64, 130.26, 131.82, 132.36, 130.88, 128.11, 125.34, 123.62, 122.16, 120.97, 120.35, 120.76, 122.26, 123.91, 124.77, 123.81, 121.54, 119.4, 118.82, 120.4, 122.91, 124.92, 125.27, 124.83, 123.77, 121.96, 119.28, 115.61, 110.84, 104.83, 121.67, 121.74, 121.81, 121.87, 121.88, 120.9, 119.33, 118.14, 118.13, 118.84, 119.73, 120.3, 120.15, 119.48, 118.77, 118.49, 119.35, 121.01, 122.5, 122.88, 121.85, 120.28, 119.12, 119.41, 121.46, 123.97, 125.47, 124.81, 122.63, 120.38, 119.5, 120.83, 123.3, 125.46, 126.0, 125.5, 124.75, 124.22, 124.22, 124.28, 124.35, 124.42, 123.92, 122.47, 121.01, 120.49, 120.77, 121.36, 122.2, 123.57, 127.97, 133.55, 137.37, 137.13, 134.43, 131.28, 129.61, 130.27, 131.87, 133.44, 134.0, 131.95, 128.22, 124.83, 123.44, 122.7, 122.18, 121.94, 122.81, 126.27, 130.78, 134.6, 137.17, 139.44, 141.61, 143.85, 146.04, 148.23, 150.6, 153.53, 157.83, 162.12, 164.67, 164.78, 164.39, 163.75, 163.0, 161.93, 160.36, 158.47, 156.4, 153.41, 150.05, 147.4, 146.27, 145.54, 145.03, 144.83, 145.55, 147.81, 150.23, 151.36, 151.04, 150.31, 149.66, 149.67, 152.15, 156.07, 159.42, 160.74, 161.58, 162.21, 162.53, 162.6, 162.66, 162.72, 162.77, 159.57, 153.25, 147.66, 146.79, 154.81, 171.1, 194.0, 234.71, 335.08, 468.73, 601.59, 736.11, 893.15, 1021.0, 1067.3, 1064.0, 1055.7, 1042.6, 1012.0, 848.53, 608.31, 396.04, 278.69, 178.86, 102.7, 68.408, 70.271, 76.973, 85.811, 94.56299999999999, 106.0, 119.02, 128.89, 131.72, 132.38, 132.81, 133.37, 134.5, 136.45, 138.56, 140.09, 140.98, 141.75, 142.3, 142.48, 142.06, 141.31, 140.71, 140.96, 143.48, 146.82, 149.06, 149.27, 149.33, 149.39, 149.45, 150.88, 154.07, 157.07, 158.03, 157.09, 155.52, 154.28, 154.55, 157.48, 161.44, 164.43, 165.39, 165.9, 166.37, 167.12, 169.34, 172.96, 176.37, 178.06, 178.73, 179.2, 179.76, 180.72, 182.33, 184.3, 186.25, 187.97, 189.64, 191.36, 193.23, 195.37, 197.71, 200.11, 202.44, 204.57, 206.72, 209.14, 212.16, 216.01, 220.28, 224.53, 228.45, 232.28, 236.23, 240.5, 245.03, 249.85, 255.24, 261.53, 269.5, 278.51, 287.52, 295.67, 303.3, 310.97, 319.22, 328.54, 338.74, 349.28, 359.63, 370.07, 380.57, 390.61, 399.69, 408.1, 415.99, 423.38, 430.35, 437.06, 443.26, 448.7, 453.58, 458.19, 461.96, 464.36, 466.06, 467.45};

    @Override
    public void initGraph(GraphView graph) {
        // first series is a line
        DataPoint[] points = new DataPoint[1000];


        for (int i = 0; i < points.length; i++) {
            points[i] = new DataPoint(i,ecg_values[i]);
        }

        LineGraphSeries<DataPoint> series = new LineGraphSeries<>(points);

        // set manual X bounds
        graph.getViewport().setYAxisBoundsManual(true);
        graph.getViewport().setMinY(40);
        graph.getViewport().setMaxY(1000);

        graph.getViewport().setXAxisBoundsManual(true);
        graph.getViewport().setMinX(1);
        graph.getViewport().setMaxX(600);

        // enable scaling
        graph.getViewport().setScalable(true);
        graph.getViewport().setScalableY(true);

        series.setTitle("ECG Data");
        graph.getGridLabelRenderer().setVerticalAxisTitle("ECG Value");
        graph.getGridLabelRenderer().setHorizontalAxisTitle("Time");

        graph.addSeries(series);

        graph.getLegendRenderer().setVisible(true);
        graph.getLegendRenderer().setAlign(LegendRenderer.LegendAlign.TOP);
    }
}
